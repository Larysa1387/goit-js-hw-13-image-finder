{"version":3,"sources":["js/api-function.js","js/searchScript.js","index.js"],"names":["SearchService","constructor","searchQuery","page","fetchQueryItems","console","log","KEY","BASE_URL","fetch","then","response","json","data","incrementPage","query","newQuery","resetPage","searchService","refs","searchForm","document","getElementById","btnSearch","querySelector","btnLoadMore","onSearchClick","e","preventDefault","currentTarget","elements","value","trim","onLoadMoreBtnClick","addEventListener"],"mappings":";;;AAAmC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAApB,MAAMA,EACnBC,cACOC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGdC,kBACEC,QAAQC,IAAI,MACNC,MACAC,wEAAiF,KAAKN,uEAA2C,KAAKC,OAE5IM,MAAMD,GACHE,KAAKC,GAAYA,EAASC,QAC1BF,KAAKG,IACCC,KAAAA,kBAIPC,YACK,OAAA,KAAKb,YAGVa,UAAMC,GACHd,KAAAA,YAAcc,EAGrBF,gBACOX,KAAAA,MAAQ,EAGfc,YACOd,KAAAA,KAAO,GA/BmB,QAAA,QAAA;;ACkClC,aAlCD,IAAA,EAAA,EAAA,QAAA,mBAkCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA/BD,MAAMe,EAAgB,IAAIlB,EAAJ,QAEhBmB,EAAO,CACXC,WAAYC,SAASC,eAAe,eACpCC,UAAWF,SAASG,cAAc,cAClCC,YAAaJ,SAASG,cAAc,yBAOtC,SAASE,EAAcC,GACrBA,EAAEC,iBACFV,EAAcH,MAAQY,EAAEE,cAAcC,SAASf,MAAMgB,MACrDb,EAAcD,YACqB,KAA/BC,EAAcH,MAAMiB,QACtBd,EAAcd,kBASlB,SAAS6B,IACP5B,QAAQC,IAAI,aACuB,KAA/BY,EAAcH,MAAMiB,QACtBd,EAAcd,kBArBlBe,EAAKC,WAAWc,iBAAiB,SAAUR,GAC3CP,EAAKM,YAAYS,iBAAiB,QAASD;;ACX3C,aADA,QAAA,oBACA,QAAA","file":"src.cab1d2c5.js","sourceRoot":"../src","sourcesContent":["export default class SearchService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchQueryItems() {\n    console.log(this);\n    const KEY = '21781686-06f0d55f145dff9dbbb393fb1';\n    const BASE_URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&key=${KEY}&per_page=12&page=${this.page}`;\n    // console.log(this.searchQuery.trim());\n    fetch(BASE_URL)\n      .then(response => response.json())\n      .then(data => {\n        this.incrementPage();\n      });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  // https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\n\n\n\n}\n","import SearchService from './api-function'\n\n\nconst searchService = new SearchService();\n\nconst refs = {\n  searchForm: document.getElementById('search-form'),\n  btnSearch: document.querySelector('btn-search'),\n  btnLoadMore: document.querySelector('[data-action=\"load\"]'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearchClick);\nrefs.btnLoadMore.addEventListener('click', onLoadMoreBtnClick);\n// refs.btnLoadMore.addEventListener('submit', onLoadMoreBtnClick);\n\nfunction onSearchClick(e) {\n  e.preventDefault();\n  searchService.query = e.currentTarget.elements.query.value;\n  searchService.resetPage();\n  if (searchService.query.trim() !== '') {\n    searchService.fetchQueryItems();\n  }\n  // const KEY = '21781686-06f0d55f145dff9dbbb393fb1';\n  // const BASE_URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&key=${KEY}`;\n  // fetch(BASE_URL)\n  //   .then(response => response.json())\n  //   .then(console.log());\n}\n\nfunction onLoadMoreBtnClick() {\n  console.log('load more');\n  if (searchService.query.trim() !== '') {\n    searchService.fetchQueryItems();\n  }\n}\n","import './sass/main.scss';\nimport './js/searchScript';\n"]}